(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(e,t,r,o,c){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"append",a=n(e.name,e.link,t,r,o);c[p](a)}function n(t,n,r,o,c){var p=e.querySelector(".card").cloneNode(!0),a=p.querySelector(".card__image"),i=p.querySelector(".card__title"),u=p.querySelector(".card__delete-button"),s=p.querySelector(".card__like-button");return a.src=n,a.alt=t,i.textContent=t,u.addEventListener("click",r),s.addEventListener("click",o),a.addEventListener("click",(function(e){c(e.target.src,e.target.alt)})),p}function r(e){e.target.closest(".card").remove()}function o(e){e.target.classList.toggle("card__like-button_is-active")}var c=document.querySelector(".page");function p(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",s)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",s)}function i(e){e.target.classList.contains("popup")&&a(e.currentTarget)}function u(e){e.target.classList.contains("popup__close")&&a(e.currentTarget)}function s(e){"Escape"===e.key&&a(c.querySelector(".popup_is-opened"))}var l=document.querySelector(".page"),d=l.querySelector(".places__list"),_=l.querySelector(".popup_type_image"),y=_.querySelector(".popup__image"),v=_.querySelector(".popup__caption"),m=l.querySelector(".profile__edit-button"),f=l.querySelector(".profile__add-button"),k=l.querySelector(".popup_type_edit"),g=l.querySelector(".popup_type_new-card"),q=[_,k,g],S=l.querySelector(".profile__title"),L=l.querySelector(".profile__description"),E=l.querySelector('form[name="edit-profile"]'),h=E.querySelector(".popup__input_type_name"),x=E.querySelector(".popup__input_type_description"),b=l.querySelector('form[name="new-place"]'),j=b.querySelector(".popup__input_type_card-name"),C=b.querySelector(".popup__input_type_url");function w(e,t){y.src=e,y.alt=t,v.textContent=t,p(_)}q.forEach((function(e){e.addEventListener("click",u),e.addEventListener("click",i)})),k.addEventListener("submit",(function(e){e.preventDefault(),S.textContent=h.value,L.textContent=x.value,a(e.currentTarget)})),g.addEventListener("submit",(function(e){e.preventDefault(),t({name:j.value,link:C.value},r,o,w,d,"prepend"),b.reset(),a(e.currentTarget)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){t(e,r,o,w,d)})),m.addEventListener("click",(function(){h.value=S.textContent,x.value=L.textContent,p(k)})),f.addEventListener("click",(function(){p(g)}))})();